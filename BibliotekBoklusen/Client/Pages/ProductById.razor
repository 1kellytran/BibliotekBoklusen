@page "/productbyid/{Id:int}"
@inject IProductManager DataManager
@attribute [Authorize]

@if (product != null)
{
    <h1>Kaos utan paus</h1>
    <h3>@product.Title</h3>
}

@*@if(product != null)
    {
    <h3>@product.Product.Title</h3>
    <button class="btn btn-danger" @onclick="DeleteProduct">Delete</button>
    }*@

@code {
    [Parameter]
    public int Id { get; set; }
    public Product product { get; set; }

    protected override async Task OnInitializedAsync()
    {
        product = await DataManager.GetProductById(Id);
    }

    private void DeleteProduct()
    {
        DataManager.DeleteProduct(Id);
    }
}
